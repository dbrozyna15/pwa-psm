<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
      integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
      crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
        integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
        crossorigin=""></script>
<link rel="manifest" href="/manifest.json" />
<title>Title</title>
<script>
    function init(){
        map = L.map('map').setView([50.06, 19.94], 13);
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);
        getLocation();
    }

    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(getCoordinates);
        } else {
            alert("There was an error when reading your location.");
        }
    }
    function getCoordinates(position) {
        currentLatitude = position.coords.latitude;
        currentLongitude = position.coords.longitude;
        map.setView([currentLatitude, currentLongitude], 13);
        L.marker([currentLatitude, currentLongitude]).addTo(map);
    }
</script>
</head>
<body onload="init()">
<main>
    <div class="container text-center justify-content-center" style="height: 90vh;">
        <div class="row h-100">
            <div class="col h-100">
                <div id="map" class="h-100"></div>
            </div>
        </div>
    </div>
    <div class="container text-center">
        <div class="row">
        <div class="col-lg-6">
            <a href="/"><button type="button" class="btn btn-primary w-50">Strona główna</button></a>
        </div>
        <div class="col-lg-6">
            <a href="/sos.html"><button type="button" class="btn btn-danger w-50">SOS</button></a>
        </div>
    </div>
    </div>
</main>

<script src="/js/app.js"></script>
</body>
</html>